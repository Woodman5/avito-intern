<h1 align="center">Тестовое задание на позицию стажера-бекендера</h1>



### Установка
`git clone https://github.com/Woodman5/avito-intern`

### Запуск
`docker-compose -p avito-intern -f deployments/docker-compose.yml up --build`

Таблицы в БД создаются автоматически при первом запуске контейнера.


### Запросы
- Получение сведений о балансе пользователя

    GET `127.0.0.1:8080/amount/{user UUID}`

    GET `127.0.0.1:8080/amount/56a36a84-fb53-4bfa-a2dd-4307c4b3c988`


- Зачисление на счет / Снятие со счета

    POST `127.0.0.1:8080/amount/{user UUID}`

    payload: `{"type":1, "amount":10000, "source": "Vasya", "reason": "you bought me a cup of tea"}`
    - `type` - тип транзакции (1 - зачисление, 0 - списание)
    - `amount` - количество рублей в операции, копейки тоже можно `100.48`
    - `source` - от кого / кому
    - `reason` - описание / причина операции
  

- Перевод между пользователями
    
  POST `127.0.0.1:8080/transfer`

  payload: `{"from_uuid": "56a36a84-fb53-4bfa-a2dd-4307c4b3c988", "amount":5000, "to_uuid": "56a36a84-fb53-4bfa-a2dd-4307c4b3c987"}`
    - `from_uuid` - UUID пользователя для списывания средств
    - `to_uuid` - UUID пользователя для зачисления средств
    - `amount` - количество рублей в операции, копейки тоже можно `100.48`
    
### Пояснения
1. Добавление пользователей

    Предполагается наличие других сервисов проверяющих подлинность UUID, поэтому микросервис не отклоняет POST запросы с несуществующими пользователями.
    Вместо этого он создает пользователя и зачисляет ему указанную сумму.
2. Результат любого запроса - json с UUID пользователя и балансом после операции
3. В сервисе присутствует таблица с историей всех транзакций. Делалась под дополнительное задание, к сожалению не успел сделать.

#### Что я не успел
Я узнал о возможности податься на стажировку 9 сентября. 
Поэтому не успел как минимум:
- Тесты
- Middleware авторизации

